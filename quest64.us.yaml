name: Quest 64 (North America)
sha1: 91b96e938c6d91699057fad91d726ee5a23ce33a
options:
  basename: quest64
  target_path: baserom.us.z64
  elf_path: build/quest64.elf
  base_path: .
  platform: n64
  compiler: IDO

  # asm_path: asm
  # src_path: src
  # build_path: build
  # create_asm_dependencies: True
  ld_symbol_header_path: include/ld_addrs.h
  ld_script_path: quest64.ld
  ld_dependencies: True

  find_file_boundaries: True
  header_encoding: ASCII

  o_as_suffix: True
  use_legacy_include_asm: False
  # mips_abi_float_regs: o32

  asm_function_macro: glabel
  asm_jtbl_label_macro: jlabel
  asm_data_macro: dlabel
  migrate_rodata_to_functions : True

  # section_order: [".text", ".data", ".rodata", ".bss"]
  # auto_all_sections: [".data", ".rodata", ".bss"]

  symbol_addrs_path:
    - symbol_addrs.txt
  reloc_addrs_path:
    - reloc_addrs.txt

  # undefined_funcs_auto_path: undefined_funcs_auto.txt
  # undefined_syms_auto_path: undefined_syms_auto.txt

  extensions_path: tools/splat_ext

  # string_encoding: ASCII
  # data_string_encoding: ASCII
  rodata_string_guesser_level: 2
  data_string_guesser_level: 2
  # libultra_symbols: True
  # hardware_regs: True
  # gfx_ucode: # one of [f3d, f3db, f3dex, f3dexb, f3dex2]
segments:
  - name: header
    type: databin
    start: 0x0

  - name: boot
    type: databin
    start: 0x40

  - name: entry
    type: code
    start: 0x1000
    vram: 0x80000400
    subsegments:
      - [0x1000, hasm]

  - name: main
    type: code
    start: 0x1050
    vram: 0x80000450
    follows_vram: entry
    bss_size: 0x239C0
    symbol_name_format: $VRAM_$ROM
    subsegments:
      - [0x1050, asm, init]
      - [0x1130, asm, nnsched]
      - [0x1850, c, 1850]
      - [0x33D0, asm]
      - [0x8650, asm]
      - [0x97B0, asm]
      - [0xC120, asm]
      - [0xC910, asm]
      - [0xFA60, asm]
      - [0x12450, asm, shadow]
      - [0x12740, asm]
      - [0x15440, asm]
      - [0x191F0, asm]
      - [0x1BCD0, asm]
      - [0x1D160, asm]
      - [0x1E4B0, asm]
      - [0x1EDF0, asm, hud]
      - [0x21D70, asm, inventory]
      - [0x234E0, asm, screen_dim]
      - [0x23740, asm]
      - [0x23BD0, asm, el_math]
      - [0x24E60, asm]
      - [0x25290, asm]
      - [0x271F0, asm, bgm]
      - [0x27640, asm]
      - [0x2C110, asm]
      - [0x2F1E0, asm]
      - [0x31A10, asm]
      - [0x31F00, asm]
      - [0x32840, asm]
      - [0x328F0, asm]
      - [0x34450, asm, os/initialize]
      - [0x346E0, asm, os/createthread]
      - [0x34830, asm, os/startthread]
      - [0x34980, asm, os/pimgr]
      - [0x34B10, asm, os/createmesgqueue]
      - [0x34B40, asm, os/visetevent]
      - [0x34BB0, asm, os/seteventmesg]
      - [0x34C20, asm, os/recvmesg]
      - [0x34D60, hasm, os/setintmask]
      - [0x34E00, asm, os/sendmesg]
      - [0x34F50, hasm, os/writebackdcacheall]
      - [0x34F80, asm, os/sptaskyield]
      - [0x34FA0, asm, os/sptaskyielded] 
      - [0x35020, asm, os/sptask]
      - [0x352E0, asm, os/viblack]
      - [0x35350, asm, os/viswapbuf]
      - [0x353A0, asm, os/vigetcurrframebuf]
      - [0x35440, asm, os/vimgr]
      - [0x357A0, asm, os/visetmode]
      - [0x35810, asm, os/visetspecial]
      - [0x359D0, asm, os/virtualtophysical]
      - [0x35A50, hasm, os/writebackdcache]
      - [0x35AD0, asm, os/gettime]
      - [0x35B60, hasm, gu/sqrtf]
      - [0x35B70, asm, gu/position]
      - [0x35D90, asm, sins]
      - [0x35E00, asm, mtxutil]
      - [0x36070, asm, mtxcatf]
      - [0x36280, asm, sinf]
      - [0x36440, asm, ortho]
      - [0x36600, asm, perspective]
      - [0x36890, asm, lookatref]
      - [0x36D50, asm, translate]
      - [0x36DF0, asm, cosf]
      - [0x36F60, asm, sprintf]
      - [0x36FE0, asm, invalicache]
      - [0x37060, asm, invaldcache]
      - [0x37110, asm, pidma]
      - [0x37220, asm, heapinit]
      - [0x37260, asm, heapalloc]
      - [0x372C0, asm, aisetfreq]
      - [0x37420, asm, sl]
      - [0x374E0, asm, seqpsetvol]
      - [0x37520, asm, synthesizer]
      - [0x37C00, asm, os/aigetlen]
      - [0x37C10, asm, aisetnextbuf]
      - [0x37CC0, asm, n_alseqpgetvol]
      - [0x37CD0, asm, os/csplayer]
      - [0x38F00, asm, bnkf]
      - [0x39150, asm, seqpsetbank]
      - [0x39190, asm, cseq]
      - [0x39C50, asm, cspsetseq]
      - [0x39C90, asm, seqpplay]
      - [0x39CC0, asm, seqpstop]
      - [0x39CF0, asm, os/seqpgetstate]
      - [0x39D00, asm, sndplayer]
      - [0x3A410, asm, sndpallocate]
      - [0x3A4B0, asm, sndpsetsound]
      - [0x3A4D0, asm, sndpgetstate]
      - [0x3A4F0, asm, sndplay]
      - [0x3A560, asm, sndpstop]
      - [0x3A5B0, asm, sndpsetpitch]
      - [0x3A610, asm, sndpsetvol]
      - [0x3A670, asm, sndpsetpan]
      - [0x3A6D0, asm, ll]
      - [0x3A990, asm, pfsinitPFSPaks]
      - [0x3AC00, asm, motor]
      - [0x3B3A0, asm, os/syncprintf]
      - [0x3B3E0, asm, os/controller]
      - [0x3B7A0, asm, contsetch]
      - [0x3B810, asm, contreaddata]
      - [0x3BA30, asm, os/pfsfilestate]
      - [0x3BD20, asm, os/pfsfreeblocks]
      - [0x3BE70, asm, os/pfsallocatefile]
      - [0x3C620, asm, os/pfsdeletefile]
      - [0x3CC30, asm, os/pfsreadwritefile]
      - [0x3D130, asm, __osGetId]
      - [0x3D390, asm, os/pfsnumfiles]
      - [0x3D4E0, asm, contquery]
      - [0x3D590, asm, setsr]
      - [0x3D5A0, asm, getsr]
      - [0x3D5B0, asm, setfpccsr]
      - [0x3D5C0, asm, sprawread]
      - [0x3D610, asm, sprawwrite]
      - [0x3D660, asm, os/exceptasm] #ASM
      - [0x3DF70, asm, maptlbrdb]
      - [0x3DFD0, asm, pirawread]
      - [0x3E030, asm, bzero]
      - [0x3E0D0, asm, interrupt]
      - [0x3E110, asm, thread]
      - [0x3E150, asm, cartrominit]
      - [0x3E250, asm, os/leodiskinit]
      - [0x3E350, asm, siacsDuplicate]
      - [0x3E410, asm, getthreadpri]
      - [0x3E430, asm, setthreadpri]
      - [0x3E510, asm, pirawdma]
      - [0x3E5F0, asm, epiramdma]
      - [0x3E820, asm, devmgr]
      - [0x3ECB0, asm, vi]
      - [0x3EDF0, asm, spsetstat]
      - [0x3EE00, asm, spgetstat]
      - [0x3EE10, asm, bcopy]
      - [0x3F120, asm, spsetpc]
      - [0x3F160, asm, sprawdma]
      - [0x3F1F0, asm, sp]
      - [0x3F220, asm, timerintr]
      - [0x3F620, asm, vigetcurrcontext]
      - [0x3F630, asm, viswapcontext]
      - [0x3F990, hasm, getcount]
      - [0x3F9A0, asm, probetlb]
      - [0x3FA60, asm, xprintf]
      - [0x40720, asm, string]
      - [0x407C0, asm, jammesg]
      - [0x40940, asm, syndelete]
      - [0x40950, asm, event]
      - [0x40C90, asm, drvrNew]
      - [0x41430, asm, synallocfx]
      - [0x414D0, asm, mainbus]
      - [0x41620, asm, load]
      - [0x42170, asm, resample]
      - [0x42470, asm, env]
      - [0x430D0, asm, auxbus]
      - [0x431E0, asm, save]
      - [0x432A0, asm, ai]
      - [0x432D0, asm, seqplayer]
      - [0x44C10, asm, synaddplayer]
      - [0x44C60, asm, synstopvoice]
      - [0x44CE0, asm, synfreevoice]
      - [0x44D90, asm, synsetvol]
      - [0x44E30, asm, synsetpitch]
      - [0x44EC0, asm, synallocvoice]
      - [0x450F0, asm, cents2ratio]
      - [0x45140, asm, synstartvoiceparam]
      - [0x45230, asm, synsetpan]
      - [0x452C0, asm, synsetfxmix]
      - [0x45360, asm, synstartvoice]
      - [0x453F0, asm, siacs]
      - [0x454B0, asm, os/pfsgetstatus]
      - [0x456F0, asm, os/contpfs]
      - [0x46450, asm, os/contramread]
      - [0x467B0, asm, os/pfschecker]
      - [0x47210, asm, os/pfsisplug]
      - [0x47550, asm, sirawdma]
      - [0x47600, asm, crc]
      - [0x47780, asm, contramwrite]
      - [0x47AE0, asm, settimer]
      - [0x47BC0, asm, os/pfssearchfile]
      - [0x47D80, asm, si]
      - [0x47DB0, asm, leointerrupt]
      - [0x48630, asm, destroythread]
      - [0x48730, asm, resetglobalintmask]
      - [0x48790, asm, epirawwrite]
      - [0x487E0, asm, epirawread]
      - [0x48830, asm, setglobalintmask]
      - [0x48880, asm, yieldthread]
      - [0x488D0, asm, setcompare]
      - [0x488E0, asm, xlitob]
      - [0x48B80, asm, xldtob]
      - [0x49640, asm, copy]
      - [0x496C0, asm, filter]
      - [0x496E0, asm, reverb]
      - [0x4A330, asm, seq]
      - [0x4A950, asm, synsetpriority]
      - [0x4AAF0, data, rspBootText]
      - [0x4ABC0, databin, gspF3DEX2kawase_fifo_text] #80049FC0
      - [0x4AD20, data]
      - [0x71AF0, .rodata, 1850]
      - [0x71B10, rodata, 33D0]
      - [0x71D10, rodata, 8650]
      - [0x71D50, rodata, 97B0]
      - [0x71DD0, rodata, C120]
      - [0x71DF0, rodata, C910]
      - [0x71E60, rodata, FA60]
      - [0x71EB0, rodata]
      - [0x71EC0, rodata]
      - [0x71EF0, rodata]
      #- [0x71F10, rodata]
      - [0x72130, rodata]
      - [0x721F0, rodata]
      - [0x72210, rodata, 1D160]
      - [0x722A0, rodata, hud]
      - [0x722D0, rodata, el_math]
      - [0x72300, rodata, 25290]
      - [0x72330, rodata, 27640]
      - [0x72350, rodata, 2C110]
      - [0x725D0, rodata, 2F1E0]
      - [0x72650, rodata, 31F00]
      - [0x72680, rodata, 328F0]
      - [0x726B0, rodata, gu/position]
      - [0x72740, rodata, sinf]
      - [0x72790, rodata, perspective]
      - [0x727A0, rodata, lookatref]
      - [0x727B0, rodata, cosf]
      - [0x72800, rodata, synthesizer]
      - [0x72A50, rodata, cseq]
      - [0x72A60, rodata, sndplayer]
      - [0x72AA0, rodata, os/exceptasm]
      - [0x72AF0, rodata, devmgr]
      - [0x72B10, rodata, __mlib_qnan_f]
      - [0x72B20, rodata, xprintf]
      - [0x72C20, rodata, drvrNew]
      - [0x72C40, rodata, resample]
      - [0x72C80, rodata, env]
      - [0x72CE0, rodata, seqplayer]
      - [0x72F20, rodata, cents2ratio]
      - [0x72F30, rodata, xldtob]
      - [0x72F90, rodata, reverb]
      - [0x72FC0, rodata, seq]
      - [0x72FD0, databin, ucode_data]
      - [0x737D0, databin]
      - { start: 0x73A90, type: bss, vram: 0x80072E90 }

  - type: databin
    start: 0x73A90
    name: unkData
    follows_vram: main
    subsegments:
      - [0x73A90, databin]

  - name: ovl_title
    exclusive_ram_id: overlay
    type: code
    dir: overlays/title
    start: 0xDA68F0
    vram: 0x80100000
    follows_vram: unkData
    symbol_name_format: $VRAM_$SEG
    subsegments:
    - [0xDA68F0, asm]
    - [0xDA7404, asm]
    - [0xDA9A00, data]
    - [0xDC15C0, rodata, DA68F0]
    - [0xDC15E0, rodata, DA7404]

  - name: ovl_intro
    exclusive_ram_id: overlay
    type: code
    dir: overlays/intro
    start: 0xDC1620
    vram: 0x80100000
    follows_vram: unkData
    symbol_name_format: $VRAM_$SEG
    subsegments:
    - [0xDC1620, asm]
    - [0xDC4700, asm]
    - [0xDC7820, asm]
    - [0xDC7860, data]
    - [0xE2781C, rodata, DC1620]

  - name: ovl_ending
    exclusive_ram_id: overlay
    type: code
    dir: overlays/ending
    start: 0xE27840
    vram: 0x80100000
    follows_vram: unkData
    symbol_name_format: $VRAM_$SEG
    subsegments:
    - [0xE27840, asm]
    - [0xE2ADEC, data]

  - name: sound_data
    type: data
    dir: sound/
    start: 0xE7E800
    vram: 0x8037A480
    follows_vram: unkData
    subsegments:
    - [0xE7E800, data, instrument_ctl]
    - [0xE81610, data, instrument_tbl]
    - [0xEEE020, data, SE_ctl]
    - [0xEEFCE0, data, SE_tbl]
  
  - [0xF94380, databin, trailer] #0xFFs til the end

  - [0x1000000]