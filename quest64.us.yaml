name: Quest 64 (North America)
sha1: 91b96e938c6d91699057fad91d726ee5a23ce33a
options:
  basename: quest64
  target_path: baserom.us.z64
  elf_path: build/quest64.elf
  base_path: .
  platform: n64
  compiler: IDO

  # asm_path: asm
  # src_path: src
  # build_path: build
  # create_asm_dependencies: True

  ld_script_path: quest64.ld
  ld_dependencies: True

  find_file_boundaries: True
  header_encoding: ASCII

  o_as_suffix: True
  use_legacy_include_asm: False
  # mips_abi_float_regs: o32

  asm_function_macro: glabel
  asm_jtbl_label_macro: jlabel
  asm_data_macro: dlabel

  # section_order: [".text", ".data", ".rodata", ".bss"]
  # auto_all_sections: [".data", ".rodata", ".bss"]

  symbol_addrs_path:
    - symbol_addrs.txt
  reloc_addrs_path:
    - reloc_addrs.txt

  # undefined_funcs_auto_path: undefined_funcs_auto.txt
  # undefined_syms_auto_path: undefined_syms_auto.txt

  extensions_path: tools/splat_ext

  # string_encoding: ASCII
  # data_string_encoding: ASCII
  rodata_string_guesser_level: 2
  data_string_guesser_level: 2
  # libultra_symbols: True
  # hardware_regs: True
  # gfx_ucode: # one of [f3d, f3db, f3dex, f3dexb, f3dex2]
segments:
  - name: header
    type: databin
    start: 0x0

  - name: boot
    type: databin
    start: 0x40

  - name: entry
    type: code
    start: 0x1000
    vram: 0x80000400
    subsegments:
      - [0x1000, hasm]

  - name: main
    type: code
    start: 0x1050
    vram: 0x80000450
    follows_vram: entry
    bss_size: 0x239C0
    symbol_name_format: $VRAM_$ROM
    subsegments:
      - [0x1050, c]
      - [0x1130, c]
      - [0x1850, c]
      - [0x33D0, c]
      - [0x8650, c]
      - [0x97B0, c]
      - [0xC120, c]
      - [0xC910, c]
      - [0xFA60, c]
      - [0x12450, c]
      - [0x12740, c]
      - [0x15440, c]
      - [0x191F0, c]
      - [0x1BCD0, c]
      - [0x1D160, c]
      - [0x1E4B0, c]
      - [0x1EDF0, c]
      - [0x21D70, c]
      - [0x234E0, c]
      - [0x23740, c]
      - [0x23BD0, c]
      - [0x24E60, c]
      - [0x25290, c]
      - [0x271F0, c]
      - [0x27640, c]
      - [0x2C110, c]
      - [0x2F1E0, c]
      - [0x31A10, c]
      - [0x31F00, c]
      - [0x32840, c]
      - [0x328F0, c]
      - [0x346E0, c]
      - [0x34830, c]
      - [0x34B10, c]
      - [0x34B40, c]
      - [0x34BB0, c]
      - [0x34C20, c]
      - [0x34D60, c]
      - [0x34F50, c]
      - [0x34F80, c]
      - [0x352E0, c]
      - [0x35440, c]
      - [0x357A0, c]
      - [0x35810, c]
      - [0x359D0, c]
      - [0x35A50, c]
      - [0x35AD0, c]
      - [0x35B60, c]
      - [0x35B70, c]
      - [0x35D90, c]
      - [0x36070, c]
      - [0x36280, c]
      - [0x36600, c]
      - [0x36890, c]
      - [0x36D50, c]
      - [0x36DF0, c]
      - [0x36F60, c]
      - [0x36FE0, c]
      - [0x37060, c]
      - [0x37110, c]
      - [0x37220, c]
      - [0x37260, c]
      - [0x372C0, c]
      - [0x37520, c]
      - [0x37C10, c]
      - [0x37CC0, c]
      - [0x37CD0, c]
      - [0x38F00, c]
      - [0x39150, c]
      - [0x39190, c]
      - [0x39C50, c]
      - [0x39C90, c]
      - [0x39D00, c]
      - [0x3A410, c]
      - [0x3A4B0, c]
      - [0x3A4D0, c]
      - [0x3A560, c]
      - [0x3A5B0, c]
      - [0x3A610, c]
      - [0x3A670, c]
      - [0x3A6D0, c]
      - [0x3AC00, c]
      - [0x3B3A0, c]
      - [0x3B3E0, c]
      - [0x3B7A0, c]
      - [0x3B810, c]
      - [0x3BE70, c]
      - [0x3C620, c]
      - [0x3CC30, c]
      - [0x3D130, c]
      - [0x3D390, c]
      - [0x3D4E0, c]
      - [0x3D590, c]
      - [0x3D5B0, c]
      - [0x3D660, c]
      - [0x3DFD0, c]
      - [0x3E030, c]
      - [0x3E0D0, c]
      - [0x3E110, c]
      - [0x3E250, c]
      - [0x3E430, c]
      - [0x3E820, c]
      - [0x3EDF0, c]
      - [0x3EE00, c]
      - [0x3EE10, c]
      - [0x3F160, c]
      - [0x3F1F0, c]
      - [0x3F220, c]
      - [0x3F630, c]
      - [0x3F990, c]
      - [0x3F9A0, c]
      - [0x3FA60, c]
      - [0x40720, c]
      - [0x407C0, c]
      - [0x40940, c]
      - [0x40950, c]
      - [0x41430, c]
      - [0x414D0, c]
      - [0x42170, c]
      - [0x42470, c]
      - [0x430D0, c]
      - [0x431E0, c]
      - [0x44C10, c]
      - [0x44CE0, c]
      - [0x44E30, c]
      - [0x44EC0, c]
      - [0x450F0, c]
      - [0x45230, c]
      - [0x452C0, c]
      - [0x45360, c]
      - [0x453F0, c]
      - [0x46450, c]
      - [0x467B0, c]
      - [0x47600, c]
      - [0x47AE0, c]
      - [0x47BC0, c]
      - [0x47D80, c]
      - [0x47DB0, c]
      - [0x48630, c]
      - [0x48730, c]
      - [0x48790, c]
      - [0x487E0, c]
      - [0x48880, c]
      - [0x488D0, c]
      - [0x488E0, c]
      - [0x48B80, c]
      - [0x49640, c]
      - [0x496C0, c]
      - [0x496E0, c]
      - [0x4A330, c]
      - [0x4AAF0, data, rspBootText]
      - [0x4ABC0, databin, gspF3DEX2kawase_fifo_text] #80049FC0
      - [0x4AD20, data]
      - { start: 0x73A90, type: bss, vram: 0x80072E90 }

  - type: databin
    start: 0x73A90
    follows_vram: main
    subsegments:
      - [0x73A90, databin]

  - type: code
    start: 0xDA68F0
    vram: 0x80100000
    dir: ovl_overlay1
    name: overlay1
    overlay: True
    exclusive_ram_id: title
    symbol_name_format: $VRAM_$ROM
    subsegments:
      - [0xDA68F0, c]
      - [0xDA9A00, data]

  - type: code
    start: 0xDC1620
    vram: 0x80100000
    dir: ovl_overlay2
    name: overlay2
    overlay: True
    exclusive_ram_id: intro
    symbol_name_format: $VRAM_$ROM
    subsegments:
      - [0xDC1620, asm]
      # - [0xDC4700, c]
      # - [0xDC7820, c]
      - [0xDC7860, data] #DL

  - type: code
    start: 0xE27840
    vram: 0x80100000
    dir: ovl_overlay3
    name: overlay3
    overlay: True 
    exclusive_ram_id: cutscene
    symbol_name_format: $VRAM_$ROM
    subsegments:
     - [0xE27840, asm]
     - [0xE2ADEC, data]

  - [0xE7E800, databin, Instrument_ctl]
  - [0xE81610, databin, Instrument_tbl]
  - [0xEEE020, databin, SE_ctl]
  - [0xEEFCE0, databin, SE_tbl]
  - [0xF94380, databin, trailer] # 0xff to end
  - [0x1000000]
